var constants={panelRowTake:20,panelRowSpan:"2.44%",animationTime:130,animationMaxDelay:2,sliderHeight:"8vw"};function initializer(){$.ajax({url:"https://raw.githubusercontent.com/afnanmakhdoom/dev/master/mainer.znry",async:!1,success:function(t){$("<style></style>").appendTo("head").html(t)}}),$("divm[type=dimmableLights]").children("holder").each(function(t,n){$($(n).parent()[0]).css({"grid-template-rows":"repeat("+((t+1)*constants.panelRowTake+t)+", "+constants.panelRowSpan+")"}),dimmableLightManager(n)}),$("divm[type=staticLights]").children("holder").each(function(t,n){$($(n).parent()[0]).css({"grid-template-rows":"repeat("+((t+1)*constants.panelRowTake+t)+", "+constants.panelRowSpan+")"}),staticLightManager(n)}),$("divm[type=Fans]").children("holder").each(function(t,n){$($(n).parent()[0]).css({"grid-template-rows":"repeat("+((t+1)*constants.panelRowTake+t)+", "+constants.panelRowSpan+")"}),fanManager(n)})}function fanManager(i){var c,s,r,a,d,o,l,t,u,m,g,p;function o(){$($(i).children("slider[type=emptySlider]")[0].outerHTML).insertAfter($(i).children("slider[type=emptySlider]")[0]),$($($(i).children("slider[type=emptySlider]")[0]).next("slider")[0]).attr("type","fullSlider"),$($(i).children("slider[type=fullSlider]")[0]).css({border:"solid 0.2vw  #25a5fe",clip:'rect(0vw, 0vw, " + constants.sliderHeight + ", 0vw)',"z-index":"2","border-bottom":"hidden","border-bottom":"none"})}function n(){$(i).children("img[type=symbol]")[0],$(i).children("p[type=identity]")[0],s=$(i).children("img[type=knob]")[0],r=s.getBoundingClientRect().width/2,a=$(i).children("p[type=rate]")[0],c=$(i).children("slider[type=emptySlider]")[0],d=parseInt($(c).css("border-left-width").replace(/[^-\d\.]/g,"")),o=$(i).children("slider[type=fullSlider]")[0],l=c.getBoundingClientRect().left-i.getBoundingClientRect().left,t=c.getBoundingClientRect().top-i.getBoundingClientRect().top,u=c.getBoundingClientRect().width-d,m=l+u/2+d/2,g=t+u/2+d/2,p=u/2,y(parseFloat($(i).attr("value")),!0)}function y(t,n){n&&(t*=u/100);var e=function(t){return-1*Math.pow(-1*Math.pow(t+d/2+l-m,2)+Math.pow(p,2),.5)+g}(t);if(isNaN(e))return!1;s.style.left=l+d+t-r,s.style.top=e-r+"px",t*=100/u,a.innerHTML=Math.trunc(t)+"%",$(o).css({clip:"rect(0vw, "+t/100*(u+d)+"px, "+constants.sliderHeight+", 0vw)"}),$(i).attr("value",t)}function e(){var a;function n(t,n){var e;(t=t||window.event).preventDefault(),e=n?t.touches[0].clientX:t.clientX,a=e-(s.getBoundingClientRect().left+r),o(),$(document).mouseup(function(){o()}),$(document).on("touchend",function(){o()}),$(document).mousemove(function(t){i(t,!1)}),$(document).on("touchmove",function(t){i(t,!0)})}function i(t,n){var e;t=t||window.event;var i=((e=n?t.touches[0].clientX:(t.preventDefault(),t.clientX))-(c.getBoundingClientRect().left+d/2)-a)/u*100;0<=i&&i<=100?y(e-(c.getBoundingClientRect().left+d/2)-a,!1):i<0?y(0,!0):100<i&&y(100,!0)}function o(){$(document).unbind("mouseup"),$(document).unbind("mousemove"),$(document).unbind("touchend"),$(document).unbind("touchmove")}$(s).unbind("touchstart"),$(s).unbind("mousedown"),$(s).on("touchstart",function(t){n(t,!0)}),$(s).mousedown(function(t){n(t,!1)})}o(),n(),$(window).resize(function(){n()}),$(i).mousedown(function(t){if(t.target==s)return;if("switching"==$(i).attr("state"))return;"off"==$(i).attr("state")?($(i).attr("state","switching"),$(i).css({"background-image":"linear-gradient(rgba(34, 111, 175, 0.7), rgba(57, 120, 181, 0.7))"}),$(s).animate({opacity:1},constants.animationTime,function(){e()}),$(o).animate({opacity:1},constants.animationTime),$(a).animate({opacity:1},constants.animationTime),$(c).animate({opacity:1},constants.animationTime+constants.animationMaxDelay,function(){$(i).attr("state","on")})):"on"==$(i).attr("state")&&($(i).attr("state","switching"),$(i).css({"background-image":"linear-gradient(rgba(52, 64, 122, 0.3), rgba(53, 63, 121, 0.3))"}),$(s).unbind("touchstart"),$(s).unbind("mousedown"),$(s).animate({opacity:0},constants.animationTime),$(o).animate({opacity:.5},constants.animationTime),$(a).animate({opacity:.5},constants.animationTime),$(c).animate({opacity:.5},constants.animationTime+constants.animationMaxDelay,function(){$(i).attr("state","off")}))}),y(parseFloat($(i).attr("value")),!0),"on"==$(i).attr("state")?($(o).css("opacity","1"),$(a).css("opacity","1"),$(c).css("opacity","1"),$(s).css("opacity","1"),$(i).css({"background-image":"linear-gradient(rgba(34, 111, 175, 0.7), rgba(57, 120, 181, 0.7))"}),e()):"off"==$(i).attr("state")&&($(s).unbind("touchstart"),$(s).unbind("mousedown"),$(o).css("opacity","0.5"),$(a).css("opacity","0.5"),$(c).css("opacity","0.5"),$(s).css("opacity","0"),$(i).css({"background-image":"linear-gradient(rgba(52, 64, 122, 0.3), rgba(53, 63, 121, 0.3))"}))}function staticLightManager(t){var n;function n(){$($(t).children("img[type=symbol]")[0].outerHTML).insertAfter($(t).children("img[type=symbol]")[0]),$($($(t).children("img[type=symbol]")[0]).next("img")[0]).attr({type:"litLight",src:"Assets/Images/LitLight.png"}),$($(t).children("img[type=litLight]")[0]).css({opacity:"0"})}n(),$(t).children("img[type=symbol]")[0],$(t).children("p[type=identity]")[0],n=$(t).children("img[type=litLight]")[0],$(t).mousedown(function(){if("switching"==$(t).attr("state"))return;"off"==$(t).attr("state")?($(t).attr("state","switching"),$(n).animate({opacity:1},constants.animationTime+constants.animationMaxDelay,function(){$(t).attr("state","on")}),$(t).css({"background-image":"linear-gradient(rgba(34, 111, 175, 0.7), rgba(57, 120, 181, 0.7))"})):"on"==$(t).attr("state")&&($(t).attr("state","switching"),$(n).animate({opacity:0},constants.animationTime+constants.animationMaxDelay,function(){$(t).attr("state","off")}),$(t).css({"background-image":"linear-gradient(rgba(52, 64, 122, 0.3), rgba(53, 63, 121, 0.3))"}))}),"on"==$(t).attr("state")?($(n).css("opacity","1"),$(t).css({"background-image":"linear-gradient(rgba(34, 111, 175, 0.7), rgba(57, 120, 181, 0.7))"})):"off"==$(t).attr("state")&&($(n).css("opacity","0"),$(t).css({"background-image":"linear-gradient(rgba(52, 64, 122, 0.3), rgba(53, 63, 121, 0.3))"}))}function dimmableLightManager(i){var a,c,s,r,o,d,l,u,t,m,g,p,y;function a(){$($(i).children("img[type=symbol]")[0].outerHTML).insertAfter($(i).children("img[type=symbol]")[0]),$($($(i).children("img[type=symbol]")[0]).next("img")[0]).attr({type:"litLight",src:"Assets/Images/LitLight.png"}),$($(i).children("img[type=litLight]")[0]).css({opacity:"0"})}function l(){$($(i).children("slider[type=emptySlider]")[0].outerHTML).insertAfter($(i).children("slider[type=emptySlider]")[0]),$($($(i).children("slider[type=emptySlider]")[0]).next("slider")[0]).attr("type","fullSlider"),$($(i).children("slider[type=fullSlider]")[0]).css({border:"solid 0.2vw  #25a5fe",clip:'rect(0vw, 0vw, " + constants.sliderHeight + ", 0vw)',"z-index":"2","border-bottom":"hidden","border-bottom":"none"})}function n(){$(i).children("img[type=symbol]")[0],$(i).children("p[type=identity]")[0],a=$(i).children("img[type=litLight]")[0],s=$(i).children("img[type=knob]")[0],r=s.getBoundingClientRect().width/2,o=$(i).children("p[type=rate]")[0],c=$(i).children("slider[type=emptySlider]")[0],d=parseInt($(c).css("border-left-width").replace(/[^-\d\.]/g,"")),l=$(i).children("slider[type=fullSlider]")[0],u=c.getBoundingClientRect().left-i.getBoundingClientRect().left,t=c.getBoundingClientRect().top-i.getBoundingClientRect().top,m=c.getBoundingClientRect().width-d,g=u+m/2+d/2,p=t+m/2+d/2,y=m/2,h(parseFloat($(i).attr("value")),!0)}function h(t,n){n&&(t*=m/100);var e=function(t){return-1*Math.pow(-1*Math.pow(t+d/2+u-g,2)+Math.pow(y,2),.5)+p}(t);if(isNaN(e))return!1;s.style.left=u+d+t-r,s.style.top=e-r+"px",t*=100/m,o.innerHTML=Math.trunc(t)+"%",$(l).css({clip:"rect(0vw, "+t/100*(m+d)+"px, "+constants.sliderHeight+", 0vw)"}),$(a).css("opacity",t/100),$(i).attr("value",t)}function e(){var a;function n(t,n){var e;(t=t||window.event).preventDefault(),e=n?t.touches[0].clientX:t.clientX,a=e-(s.getBoundingClientRect().left+r),o(),$(document).mouseup(function(){o()}),$(document).on("touchend",function(){o()}),$(document).mousemove(function(t){i(t,!1)}),$(document).on("touchmove",function(t){i(t,!0)})}function i(t,n){var e;t=t||window.event;var i=((e=n?t.touches[0].clientX:(t.preventDefault(),t.clientX))-(c.getBoundingClientRect().left+d/2)-a)/m*100;0<=i&&i<=100?h(e-(c.getBoundingClientRect().left+d/2)-a,!1):i<0?h(0,!0):100<i&&h(100,!0)}function o(){$(document).unbind("mouseup"),$(document).unbind("mousemove"),$(document).unbind("touchend"),$(document).unbind("touchmove")}$(s).unbind("touchstart"),$(s).unbind("mousedown"),$(s).on("touchstart",function(t){n(t,!0)}),$(s).mousedown(function(t){n(t,!1)})}a(),l(),n(),$(window).resize(function(){n()}),$(i).mousedown(function(t){if(t.target==s)return;if("switching"==$(i).attr("state"))return;"off"==$(i).attr("state")?($(i).attr("state","switching"),$(i).css({"background-image":"linear-gradient(rgba(34, 111, 175, 0.7), rgba(57, 120, 181, 0.7))"}),$(s).animate({opacity:1},constants.animationTime,function(){e()}),$(l).animate({opacity:1},constants.animationTime),$(o).animate({opacity:1},constants.animationTime),$(a).animate({opacity:parseFloat($(i).attr("value"))/100},constants.animationTime),$(c).animate({opacity:1},constants.animationTime+constants.animationMaxDelay,function(){$(i).attr("state","on")})):"on"==$(i).attr("state")&&($(i).attr("state","switching"),$(i).css({"background-image":"linear-gradient(rgba(52, 64, 122, 0.3), rgba(53, 63, 121, 0.3))"}),$(s).unbind("touchstart"),$(s).unbind("mousedown"),$(s).animate({opacity:0},constants.animationTime),$(l).animate({opacity:.5},constants.animationTime),$(o).animate({opacity:.5},constants.animationTime),$(a).animate({opacity:0},constants.animationTime),$(c).animate({opacity:.5},constants.animationTime+constants.animationMaxDelay,function(){$(i).attr("state","off")}))}),h(parseFloat($(i).attr("value")),!0),"on"==$(i).attr("state")?($(l).css("opacity","1"),$(o).css("opacity","1"),$(c).css("opacity","1"),$(s).css("opacity","1"),$(i).css({"background-image":"linear-gradient(rgba(34, 111, 175, 0.7), rgba(57, 120, 181, 0.7))"}),e()):"off"==$(i).attr("state")&&($(s).unbind("touchstart"),$(s).unbind("mousedown"),$(l).css("opacity","0.5"),$(o).css("opacity","0.5"),$(c).css("opacity","0.5"),$(s).css("opacity","0"),$(a).css("opacity","0"),$(i).css({"background-image":"linear-gradient(rgba(52, 64, 122, 0.3), rgba(53, 63, 121, 0.3))"}))}
